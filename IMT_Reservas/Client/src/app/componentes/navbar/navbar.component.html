<nav
  class="navbar-container"
  [class.open]="showUserMenu"
  role="navigation"
  aria-label="Main navigation"
>
  <div class="left-section">
    <button
      type="button"
      class="icon-button home-button"
      aria-label="Ir a inicio"
      (click)="botonhome()"
    >
      <img
        #homeIcon
        src="/assets/home_line.png"
        alt="Icono de inicio"
        class="icon-image"
        (mouseenter)="homeIcon.src = '/assets/home_solid.png'"
        (mouseleave)="homeIcon.src = '/assets/home_line.png'"
      />
    </button>
  </div>
  <div class="logo-container">
    <img src="/assets/logo_universidad.png" alt="Logo UCB" class="logo-image" />
  </div>
  <div class="right-section">
    <button
      type="button"
      class="icon-button cart-button"
      aria-label="Mostrar carrito"
      (click)="mostrarcarrito()"
    >
      <img
        #cartIcon
        src="/assets/shopping_card_line.png"
        alt="Icono de carrito"
        class="icon-image"
        (mouseenter)="cartIcon.src = '/assets/shopping_card_solid.png'"
        (mouseleave)="cartIcon.src = '/assets/shopping_card_line.png'"
      />
      <span class="cart-count">{{ totalproductos() }}</span>
    </button>
    <div class="user-menu">
      <button
        type="button"
        class="icon-button user-button"
        aria-haspopup="true"
        [attr.aria-expanded]="showUserMenu"
        (click)="toggleUserMenu()"
      >
        <img
          #userIcon
          src="/assets/profile_line.png"
          alt="Icono de usuario"
          class="icon-image"
          (mouseenter)="userIcon.src = '/assets/profile_solid.png'"
          (mouseleave)="userIcon.src = '/assets/profile_line.png'"
        />
      </button>
      <ul
        *ngIf="showUserMenu"
        class="user-dropdown"
        role="menu"
        aria-label="Opciones de usuario"
      >
        <li>
          <button class="dropdown-item" (click)="seleccionar('perfil')">
            Ver Perfil
          </button>
        </li>
        <li>
          <button class="dropdown-item" (click)="seleccionar('historial')">
            Historial
          </button>
        </li>
        <li>
          <button class="dropdown-item" (click)="seleccionar('cerrar-sesion')">
            Cerrar Sesi√≥n
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>
<app-carrito-previo
  *ngIf="showCarrito"
  (showCarritoevent)="obtenershow()"
></app-carrito-previo>
