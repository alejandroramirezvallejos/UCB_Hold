<ul class="capsule-list">
  @for(item of (carrito | keyvalue); track item.key) {
    <li class="capsule">
      <img 
        class="product-img" 
        src="{{ item.value.imagen || '' }}" 
        alt="" 
      />

      <div class="info-row">
        <div class="title-group">
          <h3 class="product-title">{{ item.value.nombre }}</h3>
          <h3 class="product-quantity">Cantidad: {{item.value.cantidad}}</h3>
        </div>
        
        
        <div class="dates-container">
          <div class="date-field">
            <label for="fechaInicio_{{item.key}}">Inicio</label>
            <input 
              type="date" 
              id="fechaInicio_{{item.key}}" 
              [(ngModel)]="item.value.fecha_inicio" 
              [min]="hoy"
            />
          </div>
          <div class="date-field">
            <label for="fechaFin_{{item.key}}">Fin</label>
            <input 
              type="date" 
              id="fechaFin_{{item.key}}" 
              [(ngModel)]="item.value.fecha_final" 
              [min]="item.value.fecha_inicio"
            />
          </div>
        </div>
      </div>
      
      <!-- Error movido aquÃ­ -->
      <div class="error">{{verificarfecha(item)}}</div>
      
    </li>
  }
</ul>

  <button (click)="clickboton()" class="boton-carrito"> Confirmar Solicitud</button>


  @if(errorboton()==1){
    <app-mostrarerror
    [error]="errorboton"
    [mensaje]="mensajeerror"
    ></app-mostrarerror>
  }
  @else if (errorboton()==0){
     {{formulario()}}

  }