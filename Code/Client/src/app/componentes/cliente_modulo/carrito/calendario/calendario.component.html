
<div class="calendario-container">
  
  <div class="calendario-header">
    <button 
      (click)="cambiarMes(-1)" 
      [disabled]="diaActual.getTime() >= inicio.getTime()">
      <i class="fas fa-chevron-left"></i>
    </button>
    <h3>{{ inicio | date: 'MMMM yyyy'| uppercase }}</h3>
    <button (click)="cambiarMes(1)">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>

    <div class="calendario-grid">
        <div class="dia-semana">Lun</div>
        <div class="dia-semana">Mar</div>
        <div class="dia-semana">Mié</div>
        <div class="dia-semana">Jue</div>
        <div class="dia-semana">Vie</div>
        <div class="dia-semana">Sáb</div>
        <div class="dia-semana">Dom</div>


        @for(dia of diasDelMes ;track $index){
            @if(dia.getTime() < diaActual.getTime()){
            <div class="dia-celda-pasado"></div>
            }
            @else{
            <div class="dia-celda" [class.dia-celda-seleccionado]="esFechaSeleccionada(dia)" (click)="selecionarFecha(dia)">
                <span class="dia-numero">{{ dia.getDate() }}</span>
                <span class="pildora-disponible">  {{ disponibilidadPorFecha.get(obtenerFechaKey(dia))?.get(31) ?? 0 }} </span>
            </div> 
            }
        
        }
    </div>

</div>

<p>Fecha Inicio: {{ fechaInicioSeleccionada() | date: 'shortDate' }}</p>
<p>Fecha Fin: {{ fechaFinSeleccionada() | date: 'shortDate' }}</p>
